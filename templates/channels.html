<!DOCTYPE html>
<html>
    <head>
        <!--Internal CSS stylesheet-->
        <link href="/static/styles.css" rel="stylesheet">
        <!--Internal CSS stylesheet for channels(scrollbar)-->
        <link href="/static/styles-channel.css" rel="stylesheet">
        <!--Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Anton|Indie+Flower|Pacifico&display=swap" rel="stylesheet">
        <title>Flack - channels </title>
        <!--Jquery-->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
         <!--Socket-->
        <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js" integrity="sha256-yr4fRk/GU1ehYJPAs8P4JlTgu0Hdsp4ZKrx8bDEDC3I=" crossorigin="anonymous"></script>
        <script type="text/javascript">
            var socket = io();
        </script>
    </head>
    <body>
        <div class="page">
            <div id="hello-name">
            {% if name %}
                <h1>Hello <em></em>{{name}}</em>, there are {{number}} channels to explore:</h1>
            {% else %}
                <h1>Hello!</h1>
            {% endif %}
            </div>
            <div class="scroll">
                <ul class="all-channels" id="all-channels" data-all_channels="channels">
                    {% for channel in channels %}
                        <a href={{ url_for('chat', channel=channel) }} class="join-channel"><li class="chosen-channel"><button># {{channel}}</button></li></a>
                    {% endfor %}
                </ul>
            </div>
            <a id="under-channels" href={{ url_for('home') }}>Create your channel</a>
                
        </div> 
        <script type="text/javascript">
                // join the chosen channel
                
                /*var socket = io.connect(location.protocol + '//' + document.domain + ':' + location.port);
                // set onclick funtion to dynamically created elements with jinja2
                document.getElementById("all-channels").addEventListener("click", event => {
                    if (event.target && event.target.matches("button")) {
                        const room = event.target.innerHTML;
                        socket.emit('send message', {"room": room});
                        localStorage.setItem('last channel', channel);
                    }
                }, false);*/
                 
                
        </script>
       
    </body>
</html>







